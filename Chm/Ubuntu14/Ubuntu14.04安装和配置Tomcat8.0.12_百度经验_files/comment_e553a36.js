define("common:widget/ui/comment/comment.js",function(n,e,o){var c=n("common:widget/lib/tangram/base/base.js"),r=n("common:widget/ui/ajax/ajax.js"),t=n("common:widget/ui/dialog/dialog.js");t=window.parent.__dialog||t;var i={errorDeal:{SUBMIT_EXP_VCODE_UNCORRECT:function(){var n=n||null;n&&n.error()},SUBMIT_EXP_VCODE_EXPIRED:function(){var n=n||null;n&&n.error()},SUBMIT_EXP_VCODE_UNINPUT:function(){var n=n||null;n&&n.error()},SUBMIT_EXP_VCODE_ISUSED:function(){var n=n||null;n&&n.error()}},init:function(n,e){var o,t=this,i="/submit/feel";e&&(o=e.captcha,e.url&&(i=e.url));var a={params:{method:"createNewExpFeel",eidEnc:F.context("eid"),content:n},errorDeal:{SUBMIT_EXP_VCODE_UNCORRECT:function(){o&&o.error()},SUBMIT_EXP_VCODE_EXPIRED:function(){o&&o.error()},SUBMIT_EXP_VCODE_UNINPUT:function(){o&&o.error()},SUBMIT_EXP_VCODE_ISUSED:function(){o&&o.error()}}};e&&(c.object.extend(a.params,e.params||{}),c.object.extend(a.errorDeal,e.errorDeal||{}),a.successDeal=e.successDeal||t.successDeal,a.onSuccess=e.onSuccess||null,a.captcha=e.captcha||null),r.post(i,a.params,function(n){a.captcha&&a.captcha.destroy(),a.successDeal(),a.onSuccess&&a.onSuccess(n)},a.errorDeal)},successDeal:function(){var n='<p class="exp-confirm-tip">提交成功！</p>';t.expConfirm({type:"success",info:n})}},a=function(n,e){var o={params:{method:"createNewExpQuestion"},successDeal:function(){var n='<p class="exp-confirm-tip">提交疑问成功！</p>';t.expConfirm({type:"success",info:n})},errorDeal:{IS_SELF_USER_ERR:function(){t.expConfirm({type:"error",info:'<p class="exp-confirm-tip">您不能给自己的经验写“疑问”</p>'})}}};e&&(c.object.extend(o.params,e.params||{}),o.onSuccess=e.onSuccess||null,o.captcha=e.captcha||null),i.init(n,o)},p=function(n,e){var o={params:{method:"updateExpQuestion"},successDeal:function(){}};e&&(c.object.extend(o.params,e.params||{}),o.onSuccess=e.onSuccess||null,o.captcha=e.captcha||null),i.init(n,o)},s=function(n,e){var o={params:{method:"createNewExpFeel"},successDeal:function(){var n='<p class="exp-confirm-tip">提交经验有得成功！</p>';t.expConfirm({type:"success",info:n})},errorDeal:{IS_SELF_USER_ERR:function(){t.expConfirm({type:"error",info:'<p class="exp-confirm-tip">别自我陶醉啦，去给别的小伙伴写写有得吧！</p>'})},FEED_TOO_SHORT_ERR:function(){t.expConfirm({type:"error",info:'<p class="exp-confirm-tip">多赏作者几个字吧！哪有那么短的心得啊？<br/>或者你可以试试加几张成品图？</p>'})},HIT_REJECT_WORD_ERR:function(){var n='<p class="exp-confirm-tip">抱歉，评论含有不适当内容，发布不成功</p>';t.expConfirm(F.context("isLogin")?{type:"error",info:n}:{type:"error",info:n,onconfirm:function(){window.location.reload()}})},HIT_SENSITIVE_WORD:function(){var n='<p class="exp-confirm-tip">评论中可能含有敏感内容，将稍后发布</p>';t.expConfirm(F.context("isLogin")?{type:"error",info:n}:{type:"error",info:n,onconfirm:function(){window.location.reload()}})}}};e&&(c.object.extend(o.params,e.params||{}),o.onSuccess=e.onSuccess||null,o.captcha=e.captcha||null),i.init(n,o)},u=function(n,e){var o={params:{method:"updateExpFeel",eidEnc:F.context("eid"),content:n},successDeal:function(){},errorDeal:{INVALID_EID_ERR:function(){t.alert("经验提示",{info:'<p class="exp-tip">无效经验</p>',width:300,height:120})},IS_SELF_USER_ERR:function(){t.expConfirm({type:"error",info:'<p class="exp-confirm-tip">别自我陶醉啦，去给别的小伙伴写写有得吧！</p>'})},FEED_TOO_SHORT_ERR:function(){t.expConfirm({type:"error",info:'<p class="exp-confirm-tip">多赏作者几个字吧！哪有那么短的心得啊？<br/>或者你可以试试加几张成品图？</p>'})},HIT_REJECT_WORD_ERR:function(){var n='<p class="exp-confirm-tip">抱歉，评论含有不适当内容，发布不成功</p>';t.expConfirm(F.context("isLogin")?{type:"error",info:n}:{type:"error",info:n,onconfirm:function(){window.location.reload()}})},HIT_SENSITIVE_WORD:function(){var n='<p class="exp-confirm-tip">评论中可能含有敏感内容，将稍后发布</p>';t.expConfirm(F.context("isLogin")?{type:"error",info:n}:{type:"error",info:n,onconfirm:function(){window.location.reload()}})}}};e&&(c.object.extend(o.params,e.params||{}),o.onSuccess=e.onSuccess||null,o.captcha=e.captcha||null),i.init(n,o)},f=function(n,e){var o={url:"/submit/comment",params:{method:"addComment",eidEnc:F.context("eid"),content:n,picEnc:""},successDeal:function(){var n='<p class="exp-confirm-tip">提交投票评论成功！</p>';t.expConfirm({type:"success",info:n})},errorDeal:{HIT_REJECT_WORD_ERR:function(){var n='<p class="exp-confirm-tip">抱歉，评论含有不适当内容，发布不成功</p>';t.expConfirm(F.context("isLogin")?{type:"error",info:n}:{type:"error",info:n,onconfirm:function(){window.location.reload()}})},HIT_SENSITIVE_WORD:function(){var n='<p class="exp-confirm-tip">评论中可能含有敏感内容，将稍后发布</p>';t.expConfirm(F.context("isLogin")?{type:"error",info:n}:{type:"error",info:n,onconfirm:function(){window.location.reload()}})}}};e&&(c.object.extend(o.params,e.params||{}),o.onSuccess=e.onSuccess||null,o.captcha=e.captcha||null),i.init(n,o)},l=function(n,e){var o={url:"/submit/comment",params:{method:"addReply"},successDeal:function(){}};e&&(c.object.extend(o.params,e.params||{}),o.onSuccess=e.onSuccess||null,o.captcha=e.captcha||null),i.init(n,o)};o.exports={Question:a,Youde:s,Vote:f,ReplyYoude:u,ReplyQuestion:p,ReplyVote:l}});