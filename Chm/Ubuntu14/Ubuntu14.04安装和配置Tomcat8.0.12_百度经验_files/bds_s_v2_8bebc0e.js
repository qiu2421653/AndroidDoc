var bdShare=bdShare||{version:"1.0"};!function(){var e=(new Date).getTime(),t=(new Date).getTime(),n=(new Date).getTime(),o=window,i=document,r=i.body,s=i.documentElement,a={},d="",l=i.title,c=[],h="",f={},u=i.getElementById("bdshare_js").attributes.data,b=/MSIE 6.0/.test(navigator.userAgent),m="CSS1Compat"!=i.compatMode,u=u.nodeValue.replace(/&/g,"&").split("&")||"";try{var p=o.location||i.location;a.href=p.href,a.search=p.search,a.hash=p.hash,a.protocol=p.protocol,a.hostname=p.hostname,a.pathname=p.pathname,d=encodeURIComponent(a.href)}catch(g){setTimeout(function(){var e=o.location||i.location;a.href=e.href,a.search=e.search,a.hash=e.hash,a.protocol=e.protocol,a.hostname=e.hostname,a.pathname=e.pathname,d=encodeURIComponent(a.href)},0)}for(var y=u.length;y--;){var v=u[y].split("=");c[v[0]]=v[1]}var w={bdPref:"bds_",bdNums:c.mini?7:15,bdMini:c.mini||!1,bdType:c.type||"",bdLeft:c.pos||"right",bdTitle:"分享到",bdText:l,weiboText:"",bdMore:"更多...",bdPopTitle:"分享到",bdImg:c.img||0,bdImgW:24,bdTop:0,bdIds:"bdshare",bdIdsl:c.mini?"bdshare_m":"bdshare_l",bdUid:c.uid||"",bdPic:"",searchPic:c.searchPic||0,bdComment:"",bdDesc:"",wbUid:"",tongji:"on",review:"on",render:!0,snsKey:{},bdHost:"http://bdimg.share.baidu.com/static/",bdJump:"http://share.baidu.com/",bdApi:"http://api.share.baidu.com/",bdStatistics:"http://share.baidu.com/commit",bdCommit:"http://s.share.baidu.com/",bdMshare:"http://s.share.baidu.com/mshare",bdCout:"http://nsclick.baidu.com/v.gif?pid=307",bdWList:"([http|https]://[a-zA-Z0-9_.]+.baidu.com)",bdList:["mshare,一键分享,mshare","qzone,QQ空间,qqkj","tsina,新浪微博,xlwb","bdysc,百度云收藏,bdysc","renren,人人网,rrw","tqq,腾讯微博,txwb","bdxc,百度相册,bdxc","kaixin001,开心网,kxw","tqf,腾讯朋友,txpy","tieba,百度贴吧,bdtb","douban,豆瓣网,db","tsohu,搜狐微博,shwb","bdhome,百度新首页,bdhome","sqq,QQ好友,sqq","thx,和讯微博,thx","qq,QQ收藏,qqsc","ibaidu,百度个人中心,ibaidu","taobao,我的淘宝,tjh","hi,百度空间,bdkj","baidu,百度搜藏,bdsc","sohu,搜狐白社会,shbsh","t163,网易微博,wywb","qy,奇艺奇谈,qyqt","meilishuo,美丽说,mls","mogujie,蘑菇街,mgj","diandian,点点网,diandian","huaban,花瓣,huaban","leho,爱乐活,leho","share189,手机快传,share189","duitang,堆糖,duitang","hx,和讯,hexun","tfh,凤凰微博,fhwb","fx,飞信,feixin","youdao,有道云笔记,youdao","sdo,麦库记事,sdo","qingbiji,轻笔记,qingbiji","ifeng,凤凰快博,ifeng","people,人民微博,people","xinhua,新华微博,xinhua","ff,饭否,fanfou","mail,邮件分享,mail","kanshou,搜狐随身看,kanshou","isohu,我的搜狐,isohu","yaolan,摇篮空间,yaolan","wealink,若邻网,wealink","xg,鲜果,xianguo","ty,天涯社区,tianya","iguba,股吧,iguba","fbook,Facebook,facebook","twi,Twitter,twitter","deli,delicious,delicious","s51,51游戏社区,51shequ","s139,139说客,shuoke","linkedin,linkedin,LinkedIn","copy,复制网址,kaobei","print,打印,print"]}||{},x={_parseJson:function(e){function t(e){if(0==e.indexOf("{"))return x._parseJson(e);for(var t=e.split("."),n=window,o=0,i=t.length;i>o;o++){var r=t[o];if(!("object"==typeof n&&r in n))return e;n=n[r]}return n}if("string"!=typeof e)return e;e=e.replace(/^\s*{|}\s*$/g,"");for(var n=e.split(","),o={},i=0,r=n.length;r>i;i++){var s=n[i],a=s.indexOf(":");if(a){var d=s.substring(0,a).replace(/^\s*[\'\"]?|[\"\']?\s*$/g,""),l=s.substring(a+1).replace(/^\s*/g,""),c=l.charAt(0);if("'"==c||'"'==c){do{var h=l.replace(/\s*$/g,"");if(h.substring(h.length-1)==c)break;l=l+","+n[++i]}while(i<n.length-1);l=l.replace(/^\s*[\'\"]?|[\"\']?\s*$/g,"")}else if("{"==c){do{var h=l.replace(/\s*$/g,"");if("}"==h.substring(h.length-1))break;l=l+","+n[++i]}while(i<n.length-1);l=t(l)}else l=/^[0-9]*$/.test(l)?l.replace(/^\s*[\'\"]?|[\"\']?\s*$/g,""):t(l);o[d]=l}}return o},_createScriptTag:function(e,t,n){e.setAttribute("type","text/javascript"),n&&e.setAttribute("charset",n),e.setAttribute("src",t),document.getElementsByTagName("head")[0].appendChild(e)},_removeScriptTag:function(e){if(e.clearAttributes)e.clearAttributes();else for(var t in e)e.hasOwnProperty(t)&&"parentNode"!=t&&delete e[t];e&&e.parentNode&&e.parentNode.removeChild(e),e=null},callByBrowser:function(e,t,n){var o,i=document.createElement("SCRIPT"),r=0,s=n||{},a=s.charset,d=t||function(){},l=s.timeOut||0;i.onload=i.onreadystatechange=function(){if(!r){var e=i.readyState;if("undefined"==typeof e||"loaded"==e||"complete"==e){r=1;try{d(),clearTimeout(o)}finally{i.onload=i.onreadystatechange=null,x._removeScriptTag(i)}}}},l&&(o=setTimeout(function(){i.onload=i.onreadystatechange=null,x._removeScriptTag(i),s.onfailure&&s.onfailure()},l)),x._createScriptTag(i,e,a)},on:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},unon:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent&&e.detachEvent("on"+t,n)},html:function(e,t){var n=i.createElement(t||"div");for(var o in e)"style"==o?n[o].cssText=e[o]:n[o]=e[o];return"link"!=t?r.insertBefore(n,"iframe"==t?r.firstChild:h.nextSibling):void i.getElementsByTagName("head")[0].appendChild(n)},list:function(e){var t=w.bdPref,n=e.split(","),o=n[1],i="#",r=t+n[0]+" "+n[2];return{name:o,url:i,cls:r}},list_s:function(e){for(var t=[],n=inner="",o=w,i=o.bdList,r=o.bdNums,s=o.bdNums<i.length?'<li><a href="#" class="bds_more">'+o.bdMore+"</a></li>":"";r--;)n=x.list(i[r]),t.push('<a href="'+n.url+'" class="'+n.cls+'">'+n.name+"</a>");if(inner='<iframe id="bdsIfr" style="position:absolute;display:none;z-index:9999;" frameborder="0"></iframe>',inner+='<div id="'+o.bdIdsl+'"><div id="'+o.bdIdsl+'_c"><h6>'+o.bdTitle+"</h6>",inner+="<ul><li>"+t.reverse().join("</li><li>")+"</li>"+s+'</ul><p><a href="#" class="goWebsite">百度分享</a></p></div></div>',!e)return inner;var a=x.html({id:"bdshare_s",innerHTML:inner,style:"display:none"});a.style.display="block";var d=x.children(a);a=d[d.length-1],x.on(a,"mouseover",function(e){var e=e||window.event,t=e.target||e.srcElement,n=x.getPosition(t),o=e.relatedTarget||e.fromElement,i=x.getMousePos(e),r=i.x-n.l,s=i.y-n.t;t.buttontype=1,t.x=r,t.y=s,x.contains(a,o)||(a.time=+new Date)})},scroll:function(e,t){x.on(o,"scroll",function(){var n=x.getSize(),o=w,r=o.bdTop;"slide"==o.bdType&&(b||m?(x.setAttr(i.getElementById(o.bdIdsl),"display:block"),_bdS.style.top=n.t+(0==r?n.h/2-(i.getElementById(o.bdIdsl).offsetHeight-11)/2:parseInt(r))+"px"):0!=o.bdTop&&(_bdS.style.top=parseInt(o.bdTop)+"px")),"pop"==t&&(b||m)&&(e.style.top=n.t+n.h/2-e.offsetHeight/2+"px",x.setAttr(h,"top:"+e.style.top))})},getSize:function(){return{t:r.scrollTop||s.scrollTop,l:r.scrollLeft||s.scrollLeft,w:s.clientWidth||r.clientWidth,h:o.innerHeight||s.clientHeight||r.clientHeight}},getPosition:function(e){var t=x.getSize(),n=e,o={t:0,l:0},s=/gecko/.test(navigator.userAgent),a=function(e,t){o.t+=e,o.l+=t};if(n&&n!=r)if(n.getBoundingClientRect){var d=n.getBoundingClientRect(),l=e.ownerDocument,c=l.body,h=l.documentElement,f=h.clientTop||c.clientTop||0,u=h.clientLeft||c.clientLeft||0;if(d.top==d.bottom){var b=n.style.display;n.style.display="block",n.style.display=b}a(d.top+t.t-f,d.left+t.l-u)}else{for(var m=i.defaultView;n;){a(n.offsetTop,n.offsetLeft);var p=m.getComputedStyle(n,null);if(s){var g=parseInt(p.getPropertyValue("border-left-width"),10)||0,y=parseInt(p.getPropertyValue("border-top-width"),10)||0;a(y,g),n!=e&&"visible"!=p.getPropertyValue("overflow")&&a(y,g)}n=n.offsetParent}for(n=e.parentNode;n&&n!=r;)a(-n.scrollTop,-n.scrollLeft),n=n.parentNode}return o},setAttr:function(e,t){for(var n=t.split(";"),o=n.length;o--;)if(n[o]){var i=n[o].split(":");i&&(e.style[i[0]]=i[1])}},children:function(e){for(var t=[],n=e.firstChild;n;n=n.nextSibling)1==n.nodeType&&t.push(n);return t},generateRandom:function(e,t){for(var n=e.length,o="",i=1;t>=i;i++){var r=Math.floor(n*Math.random());o+=e.charAt(r)}return o},generateLinkid:function(){var e=(+new Date).toString(36),t=x.generateRandom("0123456789abcdefghijklmnopqrstuvwxyz",3);return e+t},contains:function(e,t){if(!t||!e)return!1;if(e==t)return!0;for(var n=t.parentNode;null!=n&&"undefind"!=typeof n.tagName;){if(n==e)return!0;n=n.parentNode}return!1},getMousePos:function(e){return e.pageX||e.pageY?{x:e.pageX,y:e.pageY}:document.documentElement&&document.documentElement.scrollTop?{x:e.clientX+document.documentElement.scrollLeft-document.documentElement.clientLeft,y:e.clientY+document.documentElement.scrollTop-document.documentElement.clientTop}:document.body?{x:e.clientX+document.body.scrollLeft-document.body.clientLeft,y:e.clientY+document.body.scrollTop-document.body.clientTop}:void 0},_isCookieValidKey:function(e){return new RegExp('^[^\\x00-\\x20\\x7f\\(\\)<>@,;:\\\\\\"\\[\\]\\?=\\{\\}\\/\\u0080-\\uffff]+$').test(e)},getCookieRaw:function(e){if(x._isCookieValidKey(e)){var t=new RegExp("(^| )"+e+"=([^;]*)(;|$)"),n=t.exec(document.cookie);if(n)return n[2]||null}return null},setCookieRaw:function(e,t,n){if(x._isCookieValidKey(e)){n=n||{};var o=n.expires;"number"==typeof n.expires&&(o=new Date,o.setTime(o.getTime()+n.expires)),document.cookie=e+"="+t+(n.path?"; path="+n.path:"")+(o?"; expires="+o.toGMTString():"")+(n.domain?"; domain="+n.domain:"")+(n.secure?"; secure":"")}},getCookie:function(e){var t=x.getCookieRaw(e);return"string"==typeof t?t=decodeURIComponent(t):null},setCookie:function(e,t,n){x.setCookieRaw(e,encodeURIComponent(t),n)},log:function(){var e=[];return function(t){var n="bdsharelog__"+(new Date).getTime(),o=e[n]=new Image;o.onload=o.onerror=function(){e[n]=null},o.src=t,o=null}}()},_=function(e){var t=i.createElement("link");bdShare.velocity=bdShare.velocity||{},bdShare.velocity.cssLoadStart=+new Date,t.onload=function(){bdShare.velocity.cssLoadEnd=+new Date},t.href=w.bdHost+"css/bdsstyle.css?cdnversion=20131219",t.rel="stylesheet",t.type="text/css",i.getElementsByTagName("head")[0].appendChild(t),h=h||x.html({style:"display:none;"+(e||""),frameBorder:0},"iframe")},T=function(e){var t=/(#\d+\-[a-zA-Z\d]+\-\d+\-\d+\-[a-f\d]{32}$)/g,n=(a.search+a.hash).replace(/&/g,"#"),o=n.match(t)||"",r=new RegExp(w.bdWList,"ig"),s=a.protocol+"//"+a.hostname+a.pathname+a.search;if(!r.test(a.href)||""!=o||"undefined"!=typeof e){var d=[];bdShare.fn.b.length>0&&d.push("button"),bdShare.fn.t.length>0&&d.push("tools"),bdShare.fn.conf.bdType&&d.push(bdShare.fn.conf.bdType);var c=function(){for(var e=0,t=d.length,n={},o=[];t>e;e++)!(d[e]in n)&&o.push(d[e])&&(n[d[e]]="");return o.join(",")}();if("on"==w.tongji||""!=o||"undefined"!=typeof e)if(""!=o&&"3072"!=e&&(o=o.toString().replace("#",""),(new Image).src=w.bdCommit+"back?url="+encodeURIComponent(s)+"&sign="+encodeURIComponent(o)+"&title="+encodeURIComponent(l.substr(0,300))),bdShare.velocity=bdShare.velocity||{},bdShare.velocity.mainJsLoaded=+new Date,"undefined"!=typeof e)(new Image).src=w.bdCout+"&type="+e+"&sign="+o+"&uid="+w.bdUid+"&desturl="+encodeURIComponent(i.referrer)+"&linkid="+C+"&button="+c;else{for(var h=[0,0,0,0],f=0,u=d.length;u>f;f++)h[{tools:0,button:1,slide:2}[d[f]]]=1;bdShare._LogPool=bdShare._LogPool||[],bdShare._LogPool.push({key:"cite",api:{uid:w.bdUid||"",linkid:C,type:parseInt(h.reverse().join(""),2),mini:w.bdMini?1:0}})}}},S={create:function(){var e=w,t=e.bdList,n=t.length,r=[],s="",a=x.getSize(),d=i.getElementById(e.bdIds+"_pop"),l=b||m?"absolute":"fixed",c=b||m?a.t:0;if(!d){for(;n--;)s=x.list(t[n]),r.push('<a href="'+s.url+'" class="'+s.cls+'">'+s.name+"</a>");var u=x.html({id:e.bdIds+"_pop",style:"position:"+l,innerHTML:"<div><h5></h5><ul><li>"+r.reverse().join("</li><li>")+'</li></ul><p><a href="#" class="goWebsite">百度分享</a></p></div>'});k.bind(u,"mouseover","a"),k.bind(u,"click","b",function(){u.style.display="none",h.style.display="none"}),x.on(u,"mouseover",function(e){var e=e||window.event,t=e.target||e.srcElement,n=x.getPosition(t),o=x.getMousePos(e),i=o.x-n.l,r=o.y-n.t;t.buttontype=2,t.x=i,t.y=r;var s=e.relatedTarget||e.fromElement;x.contains(u,s)||(u.time=+new Date)})}var p=u||d;p.getElementsByTagName("h5")[0].innerHTML=(f.title||e.bdPopTitle)+"<b> </b>",x.setAttr(p,"display:block;"),x.setAttr(p,"left:"+(a.w/2-p.offsetWidth/2)+"px;top:"+(c+a.h/2-p.offsetHeight/2)+"px"),x.setAttr(h,"position:"+l+";display:block;z-index:10000;width:"+p.offsetWidth+"px;height:"+p.offsetHeight+"px;left:"+p.style.left+";top:"+p.style.top),x.scroll(p,"pop"),x.on(o,"resize",function(){var e=x.getSize(),t="left:"+(e.w/2-p.offsetWidth/2)+"px;top:"+(c+e.h/2-p.offsetHeight/2)+"px";x.setAttr(p,t),x.setAttr(h,t)}),"slide"!=e.bdType&&(i.getElementById(w.bdIdsl).style.display="none",i.getElementById("bdsIfr").style.display="none"),window.bdShareActivity&&bdShareActivity.check()}},k={bind:function(e,t,n,i){var r=this;e.addEventListener?e.addEventListener(t,function(t){return r._action(t,t.target,n,e,i)},!1):e.attachEvent("on"+t,function(t){return t=o.event,r._action(t,t.srcElement,n,e,i)})},_action:function(e,t,n,o,i){if(t.nodeName==n.toUpperCase()){if("a"==n||"span"==n){var r=t.className,s="goWebsite"==r?r:r.split(" ")[0].split("_")[1],a=this;return s&&("more"==s&&"span"==n?a._tools():t.onclick=function(e,n){return function(o){var o=o||window.event,i=o.target||o.srcElement,r=x.getPosition(i),s=x.getMousePos(o),d=s.x-r.l,l=s.y-r.t;return"more"==e?a._tools():"copy"==e?a._copy(a):"print"==e?a._print():a._jump(e,n,t,d,l),!1}}(s,o)),!1}"function"==typeof i&&i()}"function"==typeof e.preventDefault?(e.preventDefault(),e.stopPropagation()):(e.returnValue=!1,e.cancelBubble=!0)},_tools:function(){T(3072),S.create()},_copy:function(e){_this=e;var t=new _this._browsers;"IE"==t.name?(window.clipboardData.setData("text",document.title+" "+a.href),alert("标题和链接复制成功，您可以推荐给QQ/MSN上的好友了！")):window.prompt("您使用的是非IE核心浏览器，请按下 Ctrl+C 复制代码到剪贴板",document.title+" "+a.href)},_mail:function(){},_print:function(){var e=document.getElementById("bdshare_pop");e&&(e.style.display="none"),window.print(),e&&(e.style.display="block")},_jump:function(i,r,s,a,l){var c=w,h=c.bdPic,u=c.bdText,b=c.weiboText,m=c.wbUid,p=d,g=c.bdDesc,y=c.bdComment,v=c.bdMiniWindow||0;f=r.getAttribute("data")&&""!=r.getAttribute("data")?x._parseJson(r.getAttribute("data")):f,""!=f?(h=encodeURIComponent(f.pic||"")||h,p=encodeURIComponent(f.url||"")||p,y=encodeURIComponent(f.comment||"")||y,g=encodeURIComponent(f.desc||"")||g,m=f.wbuid||m,u="tsina"==i?encodeURIComponent(f.text&&f.weibotext?(f.text+f.weibotext).substr(0,300):f.weibotext?(u+f.weibotext).substr(0,300):f.text?(f.text+b).substr(0,300):(u+b).substr(0,300)):encodeURIComponent((f.text||"").substr(0,300))||encodeURIComponent(u.substr(0,300))):u=encodeURIComponent("tsina"==i?(u+b).substr(0,300):u.substr(0,300)),n=(new Date).getTime()+3e3;var _=e.toString(32)+t.toString(32)+n.toString(32),T=s.buttontype,S=Math.floor(bdShare.XY.loadedX),k=Math.floor(bdShare.XY.loadedY),I=T>0?1:0,E=Math.floor(s.x),A=Math.floor(s.y),L=Math.floor(a),P=Math.floor(l),W=Math.floor(s.offsetWidth),M=Math.floor(s.offsetHeight),R=document.body.offsetWidth,j=document.body.offsetHeight,D=window.screen.availWidth,N=window.screen.availHeight,q=T,B=+new Date;B-=r.time;var U,H=[S,k,I,E,A,L,P,W,M,q,B,R,j,D,N].join(".");switch(w.bdType){case"button":U=1;break;case"slide":U=2;break;default:U=0}var z="mail"==i?"_mail":i,X="?click=1&url="+p+"&uid="+c.bdUid+"&to="+z+"&type=text&relateUid="+m+"&pic="+h+"&title="+u+"&key="+(c.snsKey[i]||"")+"&sign="+c.review+"&desc="+g+"&comment="+y+"&searchPic="+c.searchPic+"&l="+_+"&linkid="+C+"&sloc="+H+"&apiType=0&buttonType="+U+"&firstime="+x.getCookie("bdshare_firstime");if("mshare"==i)var Y=c.bdMshare+X;else var Y=c.bdCommit+X;var $=c.bdCommit+"commit"+X+"&t="+Math.random();if("goWebsite"!=i){bdShare.fn._getSc("share");var V=function(){var e=[];return function(t){var n=e.push(new Image)-1;e[n].onload=function(){e[n]=e[n].onload=null},e[n].src=t}}();if(setTimeout(function(){V($)},1500),"bdxc"==i){var J,Q=window,Y=document,K="_bdXC";Q[K]?window._bdXC_loaded&&Q[K].reInit():(J=Y.createElement("script"),J.setAttribute("charset","utf-8"),J.src="http://xiangce.baidu.com/zt/collect/mark.js?"+(new Date).getTime(),Y.getElementsByTagName("head")[0].appendChild(J))}else if("bdysc"==i){var O={url:p,title:u};if(window.baiduSC_yaq4d3elabjnvmijccc1zuo3o4yeizck)window.baiduSC_yaq4d3elabjnvmijccc1zuo3o4yeizck.go(O);else{window.baiduSC_yaq4d3elabjnvmijccc1zuo3o4yeizck={callback:function(){this.go(O)}};var F=document.createElement("script");F.src="http://s.wenzhang.baidu.com/js/pjt/content_ex/page/bookmark.js?s=baidu_fenxiang&_t="+Math.random(),document.getElementsByTagName("body")[0].appendChild(F)}}else if("mail"==i){var Z=w.bdCommit+"sendmail";window.open(Z+X,"_blank")}else 1==v?o.open(Y,"bdShare","toolbar=0, scrollbars=1, status=0, resizable=1, height=400, width=600"):o.open(Y)}else o.open(c.bdJump)},_browsers:function(){var e,t={},n=navigator.userAgent.toLowerCase();return n.match(/msie ([\d.]+)/)?(e=n.match(/msie ([\d.]+)/),t.name="IE",t.version=e[1]):n.match(/firefox\/([\d.]+)/)?(e=n.match(/firefox\/([\d.]+)/),t.name="firefox",t.version=e[1]):n.match(/chrome\/([\d.]+)/)?(e=n.match(/chrome\/([\d.]+)/),t.name="chrome",t.version=e[1]):n.match(/opera.([\d.]+)/)?(e=n.match(/opera.([\d.]+)/),t.name="opera",t.version=e[1]):n.match(/safari.([\d.]+)/)?(e=n.match(/safari.([\d.]+)/),t.name="safari",t.version=e[1]):(t.name="未知的浏览器",t.version="未知的版本号"),t}},C=x.generateLinkid();bdShare.fn=function(){return{init:function(){function e(t){var t=t||window.event,n=x.getMousePos(t);bdShare.XY.loadedX=n.x,bdShare.XY.loadedY=n.y,bdShare.XY.loadedX>0&&bdShare.XY.loadedY>0&&x.unon(document,"mousemove",e)}t=(new Date).getTime()+1e3,this.b=[],this.t=[],this.s=[],this.type="load",this._getShare();var n=this;if("undefined"!=typeof bds_config)for(var o in bds_config)("bdPopTitle"==o||"bdText"==o||"weiboText"==o||"bdPic"==o||"wbUid"==o||"tongji"==o||"render"==o||"snsKey"==o||"review"==o||"bdComment"==o||"bdDesc"==o||"bdTop"==o||"searchPic"==o||"bdUrl"==o||"bdMiniWindow"==o)&&(w[o]="snsKey"==o?x._parseJson(bds_config[o]):"render"==o||"bdPopTitle"==o||"bdText"==o||"weiboText"==o?bds_config[o]:encodeURIComponent(bds_config[o]));this.conf=w,this.imgW=w.bdImgW,this.conf.render&&((this.b.length>0||this.t.length>0)&&this._share(),"slide"==this.conf.bdType&&this._slide()),this._getSc(this.type);for(var i=this.t,r=0;r<i.length;r++)for(var s=i[r].getElementsByTagName("a"),a=0;a<s.length;a++)!s[a].getAttribute("href")&&s[a].setAttribute("href","#");bdShare.XY=bdShare.XY||{},x.on(document,"mousemove",e);for(var r=0,d=this.t.length;d>r;r++)!function(e){var t=e;x.on(n.t[e],"mouseover",function(e){var e=e||window.event,o=e.target||e.srcElement,i=x.getPosition(o),r=x.getMousePos(e),s=r.x-i.l,a=r.y-i.t;o.buttontype=0,o.x=s,o.y=a;var d=e.relatedTarget||e.fromElement;x.contains(n.t[t],d)||(n.t[t].time=+new Date)})}(r);T(),null==x.getCookie("bdshare_firstime")&&x.setCookie("bdshare_firstime",1*new Date,{path:"/",expires:(new Date).setFullYear(2022)-new Date})},_getSc:function(e){this.type=e;for(var t=i.querySelectorAll?i.querySelectorAll(".shareCount"):i.getElementsByTagName("*"),n=t.length;n--;)/\sshareCount|shareCount\s|shareCount$/.test(t[n].className)&&this.s.push(t[n]);this.s.length>0&&x.callByBrowser(this.conf.bdApi+"getnum?url="+d+"&callback=bdShare.fn._getShare&type="+e+"&t="+(new Date).getTime())},_getShare:function(e){var t=e?!0:!1,n=[];if(i.querySelectorAll)this.b=i.querySelectorAll(".bdshare_b"),this.t=i.querySelectorAll(".bdshare_t");else for(var o=i.getElementsByTagName("*"),r=o.length;r--;){var s=o[r];/\sbdshare_t|bdshare_t\s/.test(s.className)&&this.t.push(s),/\sbdshare_b|bdshare_b\s|bdshare_b$/.test(s.className)&&this.b.push(s)}if(t){for(var a,n=this.s,d=n.length;d--;)/\sshareCount|shareCount\s|shareCount$/.test(n[d].className)&&(a="share"==this.type?e.num[0]<1e4?parseInt(n[d].innerHTML)+1:e.num[1]:1*e.errno==0?e.num[1]:0,n[d].innerHTML=decodeURI(a),n[d].setAttribute("title","累计分享"+e.num[0]+"次"),n[d].onclick=function(){S.create()});this.s=[]}},_share:function(){x.list_s(!0);var e=this.b,t=this.t,n=e.length,o=t.length,r=i.getElementById(this.conf.bdIdsl),s=i.getElementById("bdsIfr"),a=this.conf.bdList,d=a.length;if(x.setAttr(r,"display:none;"),k.bind(r,"mouseover","a"),n>0)for(;n--;)"bdshare"==e[n].id&&(k.bind(e[n],"click","img",function(){S.create()}),k.bind(e[n],"mouseover","a",function(){S.create()}),this._s(e[n],r,s,e[n],"b"));if(o>0)for(;o--;)if("bdshare"==t[o].id){k.bind(t[o],"click","span",function(){S.create()}),k.bind(t[o],"mouseover","a");for(var l=x.children(t[o]),c=l.length,h="";c--;){var f=l[c];if(/bds_more/.test(f.className))h=l[c],m&&(h.style.height=(/bds_tools_32/.test(t[o].className)?38:17)+"px"),this._s(""==h?t[o]:h,r,s,t[o],h);else for(var u=0;d>u;u++)if(a[u]){var b=a[u].split(","),p=new RegExp(this.conf.bdPref+b[0]+"$","ig");if(a[u]){var b=a[u].split(","),p=new RegExp(this.conf.bdPref+b[0]+"$","ig");p.test(f.className)&&("拷贝"==b[1]?f.title="复制网址":f.title||(f.title="分享到"+b[1]))}}}}},_s:function(e,t,n,o,i){var r,s=this,a=[],d=""==i?"none":"block";this._popShow(e,{over:function(i){a=x.getPosition(e),f=o.getAttribute("data")&&""!=o.getAttribute("data")?x._parseJson(o.getAttribute("data")):"",x.setAttr(t,"display:"+d),x.setAttr(t,"left:"+(x.getSize().w-i.clientX<t.offsetWidth?a.l-t.offsetWidth+e.offsetWidth:a.l)+"px"),x.setAttr(t,"top:"+(x.getSize().h-i.clientY<t.offsetHeight?a.t-t.offsetHeight:a.t+e.offsetHeight)+"px"),x.setAttr(n,"display:"+d+";width:"+t.offsetWidth+"px;height:"+t.offsetHeight+"px;left:"+t.style.left+";top:"+t.style.top)},out:function(){r=setTimeout(function(){t.style.display="none",n.style.display="none"},100),s._popShow(t,{over:function(){clearTimeout(r),t.style.display="block",n.style.display="block"},out:function(){t.style.display="none",n.style.display="none"}})}})},_slide:function(){function e(){x.setAttr(c,"display:block;"),c.offsetWidth+a.imgW!=d.offsetWidth&&(tm=setTimeout(function(){c.offsetWidth+a.imgW!=d.offsetWidth&&a._move(d,0,a.imgW,c.offsetWidth,h)},100),a._popShow(c,{over:function(){x.setAttr(h,"height:"+c.offsetHeight+"px;"+a.conf.bdLeft+":0;top:0;display:block")},out:function(){}}),a._popShow(d,{over:function(){},out:function(){d.offsetWidth==c.offsetWidth+a.imgW&&(clearTimeout(tm),a._move(d,0,c.offsetWidth+a.imgW,-c.offsetWidth,h)),h.style.display="none"}}))}if(!o._bdS){var t="right"==this.conf.bdLeft?"left":"right",n=this.conf.bdHost+"images/"+this.conf.bdLeft.substring(0,1)+this.conf.bdImg+".gif";o._bdS=x.html({id:this.conf.bdIds,innerHTML:'<img src="'+n+'" alt="" style="float:'+t+';margin-top:58px;"/>'+x.list_s(!1)});var r=x.children(_bdS),s=r[r.length-1];x.on(s,"mouseover",function(e){var e=e||window.event,t=e.target||e.srcElement,n=x.getPosition(t),o=e.relatedTarget||e.fromElement,i=x.getMousePos(e),r=i.x-n.l,a=i.y-n.t;t.buttontype=1,t.x=r,t.y=a,x.contains(s,o)||(s.time=+new Date)})}var a=this,d=_bdS,l=x.getSize(),c=i.getElementById(this.conf.bdIdsl),h=i.getElementById("bdsIfr"),f=b||m?"absolute":"fixed",u=(b?l.t:0)+(0==this.conf.bdTop?l.h<c.offsetHeight?-40:l.h/2-c.offsetHeight/2:parseInt(this.conf.bdTop));x.setAttr(d,"overflow:hidden;height:330px;position:"+f+";top:"+u+"px;"+this.conf.bdLeft+":0;"+("right"==t?t+":"+(l.w-this.imgW)+"px":"")),x.setAttr(c,t+":"+this.imgW+"px;display:none"),k.bind(d,"click","img",function(){T(3072),S.create()}),k.bind(d,"mouseover","img",e),k.bind(c,"mouseover","a"),x.scroll(d,"slide"),x.on(o,"resize",function(){x.setAttr(d,"right"==t?t+":"+(x.getSize().w-a.imgW)+"px":"")})},_move:function(e,t,n,o,i){var r=e.style,s=i.style,a=this,d=6;setInterval(function(){d>t&&(t++,r.width=Math.ceil(o*t/d+n)+"px",s.width=Math.ceil(o*t/d+n)-a.imgW+"px")},10)},_popShow:function(e,t){function n(e){t.over(e)}function r(e){t.out(e)}i.all?(e.onmouseenter=function(){n(o.event)},e.onmouseleave=r):(e.onmouseover=function(e){null==e.relatedTarget?n(e):!(this===e.relatedTarget||20==this.compareDocumentPosition(e.relatedTarget))&&n(e)},e.onmouseout=function(e){null==e.relatedTarget?r(e):!(this===e.relatedTarget||20==this.compareDocumentPosition(e.relatedTarget))&&r(e)})}}}(),_(),bdShare.fn.init()}();