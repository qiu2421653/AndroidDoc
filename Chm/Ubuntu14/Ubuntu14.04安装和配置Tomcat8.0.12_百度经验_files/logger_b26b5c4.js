var bdShare=bdShare||{};bdShare._LogPool=bdShare._LogPool||[],bdShare.ApiPVLogger||function(e){function t(e,t){var n=[];for(var o in t){var a=typeof t[o];"function"!=a&&"object"!=a&&t.hasOwnProperty(o)&&n.push(e+"_"+o+"="+t[o])}return n.join("&")}function n(){for(var e=bdShare._LogPool||[],t={},n=e.length-1;n>=0;n--){var o=e[n],a=t[o.key];a?(a.linkid=a.linkid||o.api.linkid,a.type=(a.type||0)|(o.api.type||0)):t[o.key]=o.api}e=[];for(var i in t)t.hasOwnProperty(i)&&e.push({key:i,api:t[i]});return bdShare._LogPool=e,e}function o(){var e=bdShare._LogPool||[],o=e.length;if(o>0){e=n(),o=e.length;for(var a=[],i="",r=null,d=[0,0,0,0,0,0,0,0],s=0;o>s;s++)r=e[s],d[c[r.key]]=1,r.api.linkid&&(i=r.api.linkid,delete r.api.linkid),a.push(t(r.key,r.api));a.unshift("linkid="+i),a.unshift("apitype="+parseInt(d.reverse().join(""),2)),u(a.join("&"))}}function a(){l=!0,i.dom.ready(function(){setTimeout(function(){v(),f()},1e3)})}var i,r=("https:"===location.protocol?"https://gsp1.baidu.com/8qUJcD3n0sgCo2Kml5_Y_D3/":"http://nsclick.baidu.com/")+"v.gif",d=i=d||{version:"1.5.2.2"};d.guid="$BAIDU$",d.$$=window[d.guid]=window[d.guid]||{global:{}},d.ajax=d.ajax||{},d.fn=d.fn||{},d.fn.blank=function(){},d.ajax.request=function(e,t){function n(){if(4==c.readyState){try{var e=c.status}catch(t){return void a("failure")}a(e),a(e>=200&&300>e||304==e||1223==e?"success":"failure"),window.setTimeout(function(){c.onreadystatechange=d.fn.blank,l&&(c=null)},0)}}function o(){if(window.ActiveXObject)try{return new ActiveXObject("Msxml2.XMLHTTP")}catch(e){try{return new ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}return window.XMLHttpRequest?new XMLHttpRequest:void 0}function a(e){e="on"+e;var t=y[e],n=d.ajax[e];if(t)if(i&&clearTimeout(i),"onsuccess"!=e)t(c);else{try{c.responseText}catch(o){return t(c)}t(c,c.responseText)}else if(n){if("onsuccess"==e)return;n(c)}}var i,r,c,s=t||{},u=s.data||"",l=s.async!==!1,f=s.username||"",v=s.password||"",h=(s.method||"GET").toUpperCase(),m=s.headers||{},p=s.timeout||0,y={};for(r in s)y[r]=s[r];m["X-Requested-With"]="XMLHttpRequest";try{c=o(),"GET"==h&&(u&&(e+=(e.indexOf("?")>=0?"&":"?")+u,u=null),s.noCache&&(e+=(e.indexOf("?")>=0?"&":"?")+"b"+ +new Date+"=1")),f?c.open(h,e,l,f,v):c.open(h,e,l),l&&(c.onreadystatechange=n),"POST"==h&&c.setRequestHeader("Content-Type",m["Content-Type"]||"application/x-www-form-urlencoded");for(r in m)m.hasOwnProperty(r)&&c.setRequestHeader(r,m[r]);a("beforerequest"),p&&(i=setTimeout(function(){c.onreadystatechange=d.fn.blank,c.abort(),a("timeout")},p)),c.send(u),l||n()}catch(w){a("failure")}return c},d.browser=d.browser||{},function(){var e=navigator.userAgent;d.browser.safari=/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(e)&&!/chrome/i.test(e)?+(RegExp.$1||RegExp.$2):void 0}(),d.browser.ie=d.ie=/msie (\d+\.\d+)/i.test(navigator.userAgent)?document.documentMode||+RegExp.$1:void 0,d.browser.opera=/opera(\/| )(\d+(\.\d+)?)(.+?(version\/(\d+(\.\d+)?)))?/i.test(navigator.userAgent)?+(RegExp.$6||RegExp.$2):void 0,d.dom=d.dom||{},function(){var e=d.dom.ready=function(){function e(){if(!e.isReady){e.isReady=!0;for(var t=0,n=i.length;n>t;t++)i[t]()}}function t(){try{document.documentElement.doScroll("left")}catch(n){return void setTimeout(t,1)}e()}function n(){if(!a)if(a=!0,"complete"===document.readyState)e.isReady=!0;else if(document.addEventListener)document.addEventListener("DOMContentLoaded",o,!1),window.addEventListener("load",e,!1);else if(document.attachEvent){document.attachEvent("onreadystatechange",o),window.attachEvent("onload",e);var n=!1;try{n=null==window.frameElement}catch(i){}document.documentElement.doScroll&&n&&t()}}var o,a=!1,i=[];return document.addEventListener?o=function(){document.removeEventListener("DOMContentLoaded",o,!1),e()}:document.attachEvent&&(o=function(){"complete"===document.readyState&&(document.detachEvent("onreadystatechange",o),e())}),n(),function(t){e.isReady?t():i.push(t)}}();e.isReady=!1}(),i.undope=!0;var c={cite:0,img:1,addto:2,video:3},s=(window.location||document.location,function(){var e=[];return function(t){var n="bdsharelog__"+(new Date).getTime(),o=e[n]=new Image;o.onload=o.onerror=function(){e[n]=null},o.src=t,o=null}}()),u=function(e){var t=document.body.offsetWidth,n=document.body.offsetHeight,o=window.screen.availWidth,a=window.screen.availHeight,i=[t,n,o,a].join(","),d=r+"?pid=307&type=3071&sc="+i+"&desturl="+encodeURIComponent(document.referrer)+"&";s(d+e)},l=!1,f=function(){var e=+new Date,t={spendTime:0,scrollTop:0,viewHeight:0},n=+new Date,o=function(){var e=new Date-n;if(e>t.spendTime){var o="BackCompat"==document.compatMode?document.body:document.documentElement;t={spendTime:e,scrollTop:window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop,viewHeight:o.clientHeight}}n=new Date},a=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)},d=0,c=1e3;setInterval(function(){document.hasFocus()&&d++},c),a(window,"scroll",o),a(window,"beforeunload",function(){var n=new Date-e;if(0!=n){o();var a=[r+"?pid=307","type=3075","l="+n,"t="+t.scrollTop,"s="+t.spendTime,"v="+t.viewHeight,"f="+d*c,"r="+encodeURIComponent(document.referrer),"u="+encodeURIComponent(window.location.href)].join("&");/firefox\/(\d+\.\d+)/i.test(navigator.userAgent)?i.ajax.request(a,{async:!1,timeout:300}):s(a)}})},v=function(){var e=0;return function(){if(bdShare.velocity&&(!bdShare.velocity.mainJsLoaded||!bdShare.velocity.cssLoadEnd)&&e++<3)setTimeout(v,1e3);else{if(bdShare.velocity){var t=Math.max(bdShare.velocity.cssLoadEnd,bdShare.velocity.mainJsLoaded)-bdShare.velocity.start||0,n=bdShare.velocity.cssLoadEnd-bdShare.velocity.cssLoadStart||0,a=bdShare.velocity.mainJsLoaded-bdShare.velocity.start||0;bdShare._LogPool.length>0&&bdShare._LogPool.push({key:"velo",api:{load:t,cssload:n,jsLoad:a}})}o()}}}();e.ApiPVLogger={add:function(e,t){bdShare._LogPool.push({key:e,api:t})}},l||a()}(bdShare);